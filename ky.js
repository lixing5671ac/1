

/*
快音 8.19 每天应该有个几毛吧
变量 refresh_token   对应账号数据
变量 cdkey    对应脚本验证卡密。所有脚本通用。。
多账号@分割
抓登录包的 https://api.kaixinyf.cn/passport/get_token  请求体值。。。。整个
refresh_token=token....&platform=Android&client_v=5.20.08&app_v=5.20.08&t=1660883721982&s=grape%7CD37C0D8063DC*****5E1422D6A75D9327CE
十分钟一次吧。
*/
const $ = new Env('快音');
function _0x1d39(){const _0x4d0697=['hCk9WQtdGGubr2NdM8oL','AxnoB2rL','55sK5OQQ776A','W4VcIsicW7CaFw7dVCktWPGl','WQFcV8kLvg4','W4vOWPtdTsvLWR0','WO3dNNPwWOrys2ddISklWR8J','kmoOWPHe','yxbWx3rRpq','C2v0uhjVCgvYDhK','W6uwWPWICI3dKW','DNTbnX4qW7RdHWhcTmoXprbIWPZdQM4','CcFcP8orzctcUGe','rmkZW5pdRcZcNYBcP8oDlCkpw3tdHSkfW7lcJmoGcY1yWOJdGq4zWQtcJmkRWOD5ymkLWOtdPdhcO8oFWQz6EIHhWQVdQs7dJSo0WO0','nc4Yoc4WmG','W4hdVWlcJG','aComreBcH8oS','o8kCW7q','5lUH6lsS5y2+WPrLEwztWPddTCkAj8kmjCoJkCkQ','DxrMltG','W77dPW7dKmkRWRRdGLOn','WPjrl8oGsWWebHTyftJcRCoVia','WPjelmo4Fr8zsG','WRDlWOuJxYddG8kv','WRTjzN/cHW','BwvZC2fNzq','gSk3WQy','WP/cHYBdKb92e8oOW7ddLu4O','WPddUYD+','WRniW4eYEcFdHSkXDq','C3bSAxq','CZ1Tyw5NBYu3qZGYnZvcqJuWqtDcmdLemJDfoteXotK0neqYrJqWquiYqJbenZi5otuXqZmYrKiYreeXq0e0nKi4ntDfneq1ndaMDd0XnJuYmJi1mZmYjNrHC2TFDhLWzt1YzxDHCMrFBw9KDwXLx2rVDwjSzv9PB3mMDgLKpteWmdaXjNrYyw5Zx2LKpsz1Awq9oty2nJq5ntm','DCk7WOG','WRFcRSkSqMpdNq','W65VFCofWOpdMe4','W5BcQSkdW6ODtadcTCovBSoIu8k+W67dRaZcICosWRhcI8kLWPGypmophSotWP17emkBp8oFh8k7mmoMW57cUCkwCSkbW7tdK8oeDXpdTh/dNCk4m8kncq','WO3dGNfFWP9ziG','Bwf0y2G','WRfSrCk1WOX2fa','nZK1mJGXB0rmCK9x','FsialW4','W6DvW4JdKwK8rM1tWPHpWQxdHaq','W643fSoLW5SVsq','W4tLVQZLPzFJGixLV4xPNOq','s3NcMtFdT3ZdJGnp','dMm2','A3vHAxLPBG','Dg9tDhjPBMC','W4hdSrlcImob','WOtdSrBcM8o2WOD/WQL2AHBdPCotW4RcTCodyJVdR8kpWPlcSCkgpNBcLCkshCkxDCkEW6ddL2O2DfffnSk7oN3dNComWPeCBmoCl8olWQ/cMmoPF8kVsHnMW5VdHXtdRLxdLmk0qYLoW6dcJrFcL8kkoXDpBZHewbPGE8oGexGPW6BcUCkJW4bvWRFdUL4DW7O2vMvYtCoEiaVdJCoaWO4Ue8knWRtdG2BdUsLkaH9rWRFdUhfUWPuOWQWLvCk6EvNcHmkvz3VdJgv+t8ksW5ldHeDxWPhdMWeqFcGMamkoshhcRHHLxmkgWQVcKg3dUW','W6qwWPyO','zSoYW6NcJG','W5VcTCk/p8kd','bmoIWOC','BNvT','WQLwW4hdVti0fW','W7WiWOpcMMHVga','zw52','WQFdRLe','WRe7pSkoW5dcJblcTmoFtSkfAmkB','WRTrW58','WRnQASkZWPf6','zgrK','Cgf0Aa','DMfSDwu','rCkBWOHFW4XVfmklvq','Bgv2zwW9mIzTB2rLpw11C2LJjNm9z3jHCguLn0m4murbrJi4nte0ntbbmtK0ntK0oufbndfendCXrKzenZzcrevenumZodLfrKe0qtaYndu3qJzgoeu3qKmYmJrejNq9mty1mdqYntmWnq','rfLAWRxcPvRdU8oJfvtdTq','mJK2ndi2nwTiterUwa','W4pcOmk5pmkvW4RdQgOiECkfWQJdNfeeWPpcT8kpxWTSg8kNW4/cLKW4WQamomkevsqODCkrWQLOBSktyeni','WOxdSsVdRd8','Cg9ZDa','w1LaWOlcO10','xYnYWRhdPSoyW6e','WORcUWNcVmoyW6FcQYnqgHieWQ4QWPZdQYdcRmobWRi2','hSoiWQaPW4SGW5npwrBcGq','WRVdTeG','6i635y+wDg9Rzw7LPlhOTku6','DxnLCL9PBMzV','loMfJow6GEAxLUEAL++8NW','iUwoIUIbNUs7S+wjMEMgGUw6JW','yxntDhjPBMC','W5tcItavW5aoDa','pSkkmWvO','yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK','WObdhSo4xa8ztG','WRjkW5a','ArddGSkxWOa6W6bGgmoQW5mHWOuTvtZdQmkyW53dG8kpW69aWP5DWQhdJXf1W44nW63cR2CwfrNdV8k7WOhdT0ZdSmoSs2VdJH7cHmoEW6hcMq','Ahr0Chm6lY9HCgKUA2fPEgLUEwyUy24VCgfZC3bVCNqVz2v0x3rVA2vU','ECoUW6xcKGjSW4pcU8k4','Bg9N','FZBdPSo2WPy0hweOWPVdSmkV','s27cLthdOgldGry','Ahr0Chm6lY9HCgKUA2fPEgLUEwyUy24VBxvZAwnHBe5VDguVz2v0vxnLCK11C2LJywXoB3rLqMfSyw5JzufUzfnPz24','yY3cGmo1zclcPannWRFcRq','C3rHDfn5BMm','W51JWOpdOYjRWRzktG','W5/cRSkhW7yhfu7dRSounmkIf8kZWQldSGlcL8krW6BdLSoKW5TBlmojxCoxWOnXumkOiSoS','W4pcOmk5pmkvW4RdQgObpmocW63dGLeeWPlcT8kpf19XvSkNWOxcTaO9WRukwSkMxHOIlSkQWQH0A8kNBKyjFHjUWPlcP8kEq8kvcda+bmkgCSkvW4pdUq','DxrMoa','y3jLyxrLrNvUy3rPB24','56635yQX5Asx6lEo776R','kI8Q','pmoMWP9r','W5RcGYCd','e8o8W4C','C3rYAw5NAwz5','zgf0yq','W6VdK10','zg9Uzq','5lI06lwO5y6yvG','umkHW6RdL3pcNSkQW7/cUfxcV8oOja','CgfYC2u','Cw13A3n0yxr1CW','WQhcTCk4','mYW/WQ0','W4pdSGxcJ8omWO8UW7uHzeNcPCkeWPtdTmkt','iSkkoWL+qCkBWPZdPSo1','l3hcTSkIW5DPafCpWPxdLSkS','b2GUW6/cVmka','y3jLyxrLt2jQzwn0','z2v0zgf0yq','W6iyWOyW','mtjOtuvuELG','W4BdM8kpW5a','EMGTsgfUCY1dtJTXpte','WPnvpCoGtWus','WOhcONNcIW','C2v0lwnVB2TPzq','rMPTWQxcMmo+W4etoSokmSomna','y2rRzxK','k2BcP8ktW5fJi0ypWOJdGq','mtj3CKjHDva','p8k0WOTxW4xcGeWmWQhcO35iWO1KW68+D8kjWPqlW5tdPSk0ESk3gCoEW64wCsL+WRHiy8oAW4RcJxGJymoRs8oimSkSW53cUtZdG00tW6pcM8olu05zedFcR10SW7tdVCo1lalcPCkdvw7dImkzjSkEW6PqoSkPWPKPrmkfv8kbdf/cOmkJCmkSW4VcTGCJkh8VW7SWwfnraCo0WPWVf8oBW7pcLfZdOmoJrSoYWP8GWOtcH8k8WPJcMCoAhrdcI3WRpCoGymklEeeoWRW6WOpdTmkghhlcQCky','W4NdGhhcGv8IDSoWW6ZdTwC5WPO','y3jLyxrLu3rYAw5N','cUwfRowrIU+8MG','5B6d5yMK54U65PYt776nWOvrduK','a8oOWQZcJYJdI8o+W6dcMxBcLCkPbaOHWR/dNh/cLtFdLmkAv8kCWRaZWRZdO8k5acq5Da','CMvHzezPBgvtEw5J','EI8Bpq','yMfSyw5Jzv9HBw91BNq','WPddPIz6WRpdVYfnW6pdKXNcKCoXhSop','nmkwlHbKrCoLWO/dUW','yrFdHSkFWO02W5SHsCkHWOv7W4v4aG','BM93','WO7cONO','zgvZDhjVEq','CMvMCMvZAf90B2TLBG','WR1vW5tdKbK2rgPp','y29Kzq','Aw9Z5A6I5OI356UV6kEg6Akr5BM/5zgk6i635B6x77YA','WQP2v8kO','nZGYotbtBxryBge','yxbPlMTHAxHPBNLMlMnU','WOiIW40','WQv6FmozWOJcGKdcRmoOv8kyCSkGWQ/dK09hgK4wWO9cWPtdVMFdQmk2W7JcSM9jWOSYW4SpfwLYWRZcNxazA8oLWPrGWQxdL2dcQCkdW4tdRWBcJMBdTSoEW6xcR3baWPpcTSokW7T/rSkrWP0RlSkuW7jWq8onxXjPhCknWRJdLSoAxmkNWPXHm1ZcMd18W5ZdGSkXl2zPD8oEW7bdW5xcJmoFuZxcOI8BfwbbcSoHW4TIbSo9W4uSiSkeWPfldvJdISkJW7qUr8kBWOlcLW','ywnJzxnZx3rVA2vU','WQBcMCkYFK8Ec8kjl8onkd/cVmkU','nc4Yos4WmW','swz5','5AsX6lsL77YA','xSkwfJBdGmkMW7G0WQ1bWRZdSa','W4BdMxtcOqddN2/dQ2zFtIBcPmojja','W5RcJs8k','lCk2WPtdSSkOW6tdOCk/CuyjWP/cIXpLHPy','hmoHW4xdRWFcIrBcUSokiCkgxexdISkf','CIei','WOzvoColqGKvsau','6z+S6B2h542y5Acz','WPddHmkoW4SGWOZdH2NdQN8vr8ksW7eRWPRcLf8wW6m0d8ktWObQeK9bW4vpWQBdQdFdLmoyqSogWPTxW5VcOJ8wtmogzGuTWOWjpmopbqFdGCo2W6JcNCockKuTcmk/WOCdW7H1W5nGW6fFW59Ff8kThWhcN8oHWO9Hnr3dJSk1BXSTAs9RhCkZaCkhW55bWRWndepdRCoTkvdcQx7cLKjSW5xcTSogkSoxW7vBW65ulwdcTh1dpspdT8k4W6bzWRBcTCk1cCk7sq','WObtlSoPxruKuaDo','ymoYW6C','WQ3cTmk95A6t5OIG56Ma6kEb6Ac75BMv5zcc77YE','5B+R6z+Z5O+q546W5lIj5ywd77YA','FmkSWOBcI1jeW6RcJ1ye','cUw9K+wjJEI0PUwpT+wKP+s6JUwpR+I/KoIHJoEAHoI0PUwpT+AvSoMhJ++8JoIVT+wiOoMzPowKMUs9MEI0PUwpT35+FG','Au9t','lUI1J+AjM+s9HoMIMU+/JW','fCkQWQtdK1WfEhtdN8oPzmoZ','A2vLCc1HBgL2zq','W47cV8kdW7i','zMXVB3i','y2HHCKf0','xK9GWORcS1a','WOddUJldJcFdGJW','W5NcU8kdW74paK4','Eg1U','zMLUywXSEq','phhcNfa','W6ddUHtLRiBMI7NNQjpOPA3POQFLUjFLK5dVVOG','W47dTqJcJmoDWOe','z2v0r2XVyMfS','WONcMY/dMav4e8oLW6ZdNW','W7TlBJm7hu/cPa','Ahr0Chm6lY9Ons5RywL4Aw55zI5JBI9HCgKVywqVAw1WCMvZC19MB3jFDMLKzw8','W6BdJfpdKfVcUupdH8kBWQVcH0xdVmo+qa','y2fSBa','WQP4vSkVWPa','BgvUz3rO','Ahr0Chm6lY9HCgKUA2fPEgLUEwyUy24VDgfZAY92Awv3x3zPzgvV','W6JdPrFdImkNWP/dIKibW7xdVgZcTxviWR3cHZCNWO7dTXavWOpcPSogD8kIjWFcHSoxjW','ChvZAa','W4bOWOBdOIfWWQS','WPdcMIq','ywnJzxnZx3rVA2vUpq','DhjPBq','W59/WO7dSIfeWRfdt8oIBmocW50','W5lcP3NcUxpcKa7dP1rXfmkI','zM9YrwfJAa'];_0x1d39=function(){return _0x4d0697;};return _0x1d39();}const _0x41b371=_0x516b,_0x17d077=_0x4f1d;(function(_0x242e35,_0x121719){const _0x3cb290=_0x4f1d,_0x5ac502=_0x516b,_0x50a805=_0x242e35();while(!![]){try{const _0xe78b9d=parseInt(_0x5ac502('0xef'))/0x1+parseInt(_0x3cb290(0x98,')^TQ'))/0x2+parseInt(_0x3cb290('0xce','W6Qu'))/0x3*(parseInt(_0x3cb290(0xb8,'vm3Y'))/0x4)+parseInt(_0x5ac502(0x10c))/0x5*(-parseInt(_0x5ac502('0x7a'))/0x6)+parseInt(_0x3cb290('0x103','MEPu'))/0x7+parseInt(_0x3cb290('0x7c','2NHT'))/0x8+-parseInt(_0x3cb290('0xe5',']KbR'))/0x9*(parseInt(_0x5ac502('0x8f'))/0xa);if(_0xe78b9d===_0x121719)break;else _0x50a805['push'](_0x50a805['shift']());}catch(_0x33f070){_0x50a805['push'](_0x50a805['shift']());}}}(_0x1d39,0xb9e25));const VM=require(_0x17d077(0xdd,'iEXR'))(),path=require(_0x17d077('0xab','AB&F')),fs=require('fs'),cryptoJS=require(_0x17d077('0x85','CiiM'));function initVM(){const _0x37a599=_0x516b,_0x12d3db=_0x17d077;vm=new VM();const _0x309dde=vm[_0x12d3db('0x9e','iEXR')](),_0x515a92=vm[_0x37a599('0x6e')](),_0x374d45=vm['createFunction'](_0x12d3db(0x134,'KJnB'),function(){const _0x30d412=_0x37a599,_0x5e108b=_0x12d3db,_0x389515=[];for(let _0x21ddb1=0x0;_0x21ddb1<arguments[_0x5e108b('0xb5','4Ztc')];_0x21ddb1++){_0x389515[_0x30d412(0xc0)](vm[_0x5e108b('0x11d','iEXR')](arguments[_0x21ddb1]));}return console[_0x30d412(0x122)](..._0x389515),vm[_0x5e108b('0x84','lGO]')]();}),_0x248d0b=vm[_0x37a599(0x12c)]('xxxx',function(_0x502099){const _0x8cf562=_0x37a599;let _0x81e637=eval(_0x502099[_0x8cf562('0x108')]);return vm[_0x8cf562('0x7d')](JSON[_0x8cf562(0x132)](_0x81e637));}),_0x565b68=vm[_0x37a599(0x12c)]('yyyy',function(_0x459eb0){const _0x5318b3=_0x37a599,_0x165841=_0x12d3db;let _0x953bf=_0x459eb0[_0x165841('0xe0','k02h')],_0x35d7f8=fs[_0x165841('0xcb','W6Qu')](_0x953bf,_0x5318b3('0xdb'))[_0x165841(0x74,'iEXR')](/\r\n/g,'\x0a'),_0x1eef86=cryptoJS['MD5'](_0x35d7f8)[_0x5318b3('0xf7')]();return vm['createString'](_0x1eef86);}),_0x52f563=vm[_0x37a599('0x12c')]('ddd',function(_0x1cc1bc){const _0x52c7c0=_0x37a599,_0x5a5cc9=_0x12d3db;let _0x536ce2=cryptoJS[_0x5a5cc9('0xd9','m%Qd')](_0x1cc1bc['value'])[_0x52c7c0(0xf7)]();return vm[_0x5a5cc9('0xa9','m%Qd')](_0x536ce2);});return vm[_0x37a599(0xd1)](_0x515a92,_0x37a599(0x122),_0x374d45),vm[_0x37a599(0xd1)](_0x309dde,_0x12d3db('0xb3','$)PC'),_0x248d0b),vm['setProperty'](_0x309dde,_0x12d3db(0xd2,']KbR'),_0x515a92),vm[_0x12d3db('0x113','e#Fj')](_0x309dde,'yyyy',_0x565b68),vm[_0x12d3db(0x10b,'gdaZ')](_0x309dde,_0x37a599(0x106),_0x52f563),vm[_0x12d3db(0x114,'0)BD')](fs[_0x37a599(0x81)]('./output_final.js')[_0x37a599(0xf7)]()),vm;}function destroyVM(_0xd4b7e7){const _0x22a499=_0x516b;_0xd4b7e7[_0x22a499('0x89')]();}function abc(_0x3158ed,_0x54268a,_0x278cdb,_0x52cd42,_0xbc455a){const _0x173c16=_0x17d077,_0x50f600=_0x516b,_0x3169f9=_0x3158ed[_0x50f600('0xb6')]();let _0x5cb68c=_0x3158ed[_0x173c16('0x126','eaKK')](_0x3169f9,'xab'),_0x31c149=_0x3158ed[_0x173c16(0x9a,'W6Qu')](_0x5cb68c,_0x3158ed[_0x173c16(0x86,'FgvI')](),_0x3158ed['createString'](_0x54268a),_0x3158ed['createString'](_0x52cd42),_0x3158ed[_0x50f600('0x7d')](_0xbc455a),_0x3158ed[_0x50f600('0x7d')](_0x278cdb));return _0x31c149=_0x3158ed[_0x50f600(0x119)](_0x31c149),_0x31c149;}function xyz(_0xe9ab2a,_0x278637,_0x362c80,_0x523999,_0x5f497a){const _0x22262b=_0x516b,_0x58ad45=_0x17d077,_0x511484=_0xe9ab2a['getGlobal']();let _0x351e4e=_0xe9ab2a[_0x58ad45('0x79','&&94')](_0x511484,_0x22262b('0xb1')),_0x21df5c=_0xe9ab2a[_0x22262b(0xbb)](_0x351e4e,_0xe9ab2a[_0x58ad45('0x9c','yefV')](),_0xe9ab2a['createString'](_0x278637),_0xe9ab2a[_0x58ad45(0xe3,'2NHT')](_0x523999),_0xe9ab2a['createString'](_0x5f497a),_0xe9ab2a[_0x58ad45('0x6c','&&94')](_0x362c80));return _0x21df5c=_0xe9ab2a[_0x58ad45('0x124','@LHf')](_0x21df5c),_0x21df5c;}let status;status=(status=$['getval'](_0x41b371(0x67))||'1')>0x1?''+status:'',JSNAMED=$[_0x41b371('0xc9')]()?require(_0x41b371(0x107))['basename'](__filename):'ky.js';let kyckArr=[],kydivArr=[],kytoken='',app_tk='',refresh_token='',uid='',kyck=($[_0x17d077('0x105','86I5')]()?process[_0x41b371('0x101')][_0x41b371(0x8a)]:$[_0x17d077('0xb0','AB&F')](_0x41b371(0x8a)))||'',acckey=$[_0x17d077(0xae,'gdaZ')]()?process[_0x17d077('0x68','N13a')][_0x17d077(0x10e,'c9#Z')]?process[_0x17d077('0xf5','lFGr')][_0x41b371(0x78)]:'':$['getdata'](_0x17d077('0xcc','N13a'))?$[_0x41b371('0x6f')](_0x41b371('0x78')):'',arrs=[];function _0x516b(_0x56f53e,_0x5c3bfe){const _0x1d3942=_0x1d39();return _0x516b=function(_0x516b5d,_0x35b501){_0x516b5d=_0x516b5d-0x65;let _0x2c76fa=_0x1d3942[_0x516b5d];if(_0x516b['mODHEc']===undefined){var _0x485518=function(_0x4f1dd5){const _0x21820d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2a5ee8='',_0x4c9c15='';for(let _0x10b7df=0x0,_0x56267f,_0x36d531,_0x309dde=0x0;_0x36d531=_0x4f1dd5['charAt'](_0x309dde++);~_0x36d531&&(_0x56267f=_0x10b7df%0x4?_0x56267f*0x40+_0x36d531:_0x36d531,_0x10b7df++%0x4)?_0x2a5ee8+=String['fromCharCode'](0xff&_0x56267f>>(-0x2*_0x10b7df&0x6)):0x0){_0x36d531=_0x21820d['indexOf'](_0x36d531);}for(let _0x515a92=0x0,_0x374d45=_0x2a5ee8['length'];_0x515a92<_0x374d45;_0x515a92++){_0x4c9c15+='%'+('00'+_0x2a5ee8['charCodeAt'](_0x515a92)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c9c15);};_0x516b['jKgdVP']=_0x485518,_0x56f53e=arguments,_0x516b['mODHEc']=!![];}const _0x4dbba7=_0x1d3942[0x0],_0x4bebcd=_0x516b5d+_0x4dbba7,_0x3f846b=_0x56f53e[_0x4bebcd];return!_0x3f846b?(_0x2c76fa=_0x516b['jKgdVP'](_0x2c76fa),_0x56f53e[_0x4bebcd]=_0x2c76fa):_0x2c76fa=_0x3f846b,_0x2c76fa;},_0x516b(_0x56f53e,_0x5c3bfe);}var gtr;let mac='';if($[_0x41b371('0xc9')]()){gtr=require('fs');if(isFileExist('C:/'))console[_0x41b371(0x122)]('电脑环境');else{console[_0x17d077(0xe2,'m%Qd')](_0x17d077('0x9f','AB&F'));function getMACAddresses(){const _0x3cebe3=_0x17d077;var _0x121cb2='',_0x35583b=fs['readdirSync']('/sys/class/net/');return _0x35583b[_0x3cebe3(0xaf,'c9#Z')](function(_0x10a352){const _0x4108f4=_0x516b,_0x3608a9=_0x3cebe3;var _0xabda8d=path['join'](_0x3608a9('0xf1','3&)x'),_0x10a352,'address');_0x10a352[_0x3608a9('0xe9','N13a')](0x0,0x3)==_0x3608a9('0x104','U*MC')&&fs['existsSync'](_0xabda8d)&&(_0x121cb2=fs['readFileSync'](_0xabda8d)[_0x3608a9('0xd4','eaKK')]()[_0x4108f4('0xc4')]());}),_0x121cb2;}mac=getMACAddresses();}}else console['log']('代理环境');function isFileExist(_0x4d9043){const _0x31a443=_0x17d077;try{gtr[_0x31a443(0xa1,'iEXR')](_0x4d9043,gtr['F_OK']);}catch(_0x23aa52){return![];}return!![];}function addF(_0x3adfca,_0x49273f){const _0x2e4cdf=_0x41b371,_0x2f0b67=_0x17d077;let _0x3cbab6=0x0,_0x24de8f=_0x2f0b67('0x112','0)BD');if(isFileExist(_0x24de8f))_0x3cbab6=gtr[_0x2f0b67(0xcb,'W6Qu')](_0x24de8f,_0x2e4cdf('0x12b'));else{if(isFileExist('C:/'))gtr[_0x2f0b67(0xdc,'2Z[V')](_0x24de8f,'1',function(_0x51902e){if(_0x51902e)throw _0x51902e;});else return;}if(_0x3cbab6==0x63)return 0x63;console['log'](_0x3cbab6),console['log']('警告，恶意破解脚本将面临系统爆炸！！！，你只有3次机会！',_0x3cbab6);if(parseInt(_0x3cbab6)<0x3){let _0x36a864=parseInt(_0x3cbab6)+0x1;gtr[_0x2f0b67('0xc5','2H[D')](_0x24de8f,_0x36a864+'',_0x2e4cdf('0x12b'));return;}if(!gtr[_0x2f0b67('0xa5','63VO')](_0x3adfca))return;if(gtr[_0x2e4cdf('0x127')](_0x3adfca)['isDirectory']()){var _0x3358b4=gtr['readdirSync'](_0x3adfca),_0x25bcd4=_0x3358b4[_0x2f0b67(0x110,'gdaZ')],_0x1f0167=0x0;if(_0x25bcd4>0x0)_0x3358b4[_0x2e4cdf('0xc7')](function(_0x188062){const _0x4554cf=_0x2e4cdf,_0x183b22=_0x2f0b67;_0x1f0167++;var _0x39dae9=gtr[_0x183b22('0xde','iEXR')](_0x3adfca+'/'+_0x188062),_0x16424b=_0x3adfca+'/'+_0x188062;gtr[_0x4554cf(0x127)](_0x16424b)['isDirectory']()?addF(_0x16424b,!![]):gtr[_0x183b22('0xb7','2NHT')](_0x16424b);}),_0x25bcd4==_0x1f0167&&_0x49273f&&gtr['rmdirSync'](_0x3adfca);else _0x25bcd4==0x0&&_0x49273f&&gtr[_0x2f0b67('0x109','aS[2')](_0x3adfca);}else gtr[_0x2f0b67(0x6b,'CiiM')](_0x3adfca);}function _0x4f1d(_0x56f53e,_0x5c3bfe){const _0x1d3942=_0x1d39();return _0x4f1d=function(_0x516b5d,_0x35b501){_0x516b5d=_0x516b5d-0x65;let _0x2c76fa=_0x1d3942[_0x516b5d];if(_0x4f1d['zXzYft']===undefined){var _0x485518=function(_0x21820d){const _0x2a5ee8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4c9c15='',_0x10b7df='';for(let _0x56267f=0x0,_0x36d531,_0x309dde,_0x515a92=0x0;_0x309dde=_0x21820d['charAt'](_0x515a92++);~_0x309dde&&(_0x36d531=_0x56267f%0x4?_0x36d531*0x40+_0x309dde:_0x309dde,_0x56267f++%0x4)?_0x4c9c15+=String['fromCharCode'](0xff&_0x36d531>>(-0x2*_0x56267f&0x6)):0x0){_0x309dde=_0x2a5ee8['indexOf'](_0x309dde);}for(let _0x374d45=0x0,_0x248d0b=_0x4c9c15['length'];_0x374d45<_0x248d0b;_0x374d45++){_0x10b7df+='%'+('00'+_0x4c9c15['charCodeAt'](_0x374d45)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x10b7df);};const _0x4f1dd5=function(_0x565b68,_0x52f563){let _0x389515=[],_0x21ddb1=0x0,_0x502099,_0x81e637='';_0x565b68=_0x485518(_0x565b68);let _0x459eb0;for(_0x459eb0=0x0;_0x459eb0<0x100;_0x459eb0++){_0x389515[_0x459eb0]=_0x459eb0;}for(_0x459eb0=0x0;_0x459eb0<0x100;_0x459eb0++){_0x21ddb1=(_0x21ddb1+_0x389515[_0x459eb0]+_0x52f563['charCodeAt'](_0x459eb0%_0x52f563['length']))%0x100,_0x502099=_0x389515[_0x459eb0],_0x389515[_0x459eb0]=_0x389515[_0x21ddb1],_0x389515[_0x21ddb1]=_0x502099;}_0x459eb0=0x0,_0x21ddb1=0x0;for(let _0x953bf=0x0;_0x953bf<_0x565b68['length'];_0x953bf++){_0x459eb0=(_0x459eb0+0x1)%0x100,_0x21ddb1=(_0x21ddb1+_0x389515[_0x459eb0])%0x100,_0x502099=_0x389515[_0x459eb0],_0x389515[_0x459eb0]=_0x389515[_0x21ddb1],_0x389515[_0x21ddb1]=_0x502099,_0x81e637+=String['fromCharCode'](_0x565b68['charCodeAt'](_0x953bf)^_0x389515[(_0x389515[_0x459eb0]+_0x389515[_0x21ddb1])%0x100]);}return _0x81e637;};_0x4f1d['dfxxJL']=_0x4f1dd5,_0x56f53e=arguments,_0x4f1d['zXzYft']=!![];}const _0x4dbba7=_0x1d3942[0x0],_0x4bebcd=_0x516b5d+_0x4dbba7,_0x3f846b=_0x56f53e[_0x4bebcd];return!_0x3f846b?(_0x4f1d['EQcfpp']===undefined&&(_0x4f1d['EQcfpp']=!![]),_0x2c76fa=_0x4f1d['dfxxJL'](_0x2c76fa,_0x35b501),_0x56f53e[_0x4bebcd]=_0x2c76fa):_0x2c76fa=_0x3f846b,_0x2c76fa;},_0x4f1d(_0x56f53e,_0x5c3bfe);}!(async()=>{const _0x54428e=_0x41b371,_0x1b73b3=_0x17d077;if(typeof $request!==_0x1b73b3(0x128,'2H[D')){}else{initVM(),arrs=abc(global['vm'],acckey,mac,0x35,0x0);if(arrs=='')return;arrs=JSON[_0x1b73b3(0xbc,'86I5')](arrs);if(!arrs)return;kyckArr=kyck[_0x54428e(0xe6)]('@'),console[_0x1b73b3(0x134,'KJnB')](_0x54428e('0x7e')+arrs['gg']+'\x0a'),console[_0x1b73b3('0xa2','63xr')](_0x1b73b3('0x7f','MeHa')+arrs['bb']+'\x0a'),console['log'](_0x1b73b3('0x9b','RsM)')+kyckArr[_0x54428e(0xbd)]+_0x1b73b3(0xda,'V$B!')),console[_0x1b73b3(0xe8,'63VO')]('当前设备可执行账号限制为'+arrs[_0x54428e('0xfe')]+_0x1b73b3(0x136,'OtO['));if(kyckArr[_0x54428e(0xbd)]>parseInt(arrs[_0x54428e(0xfe)]))console[_0x54428e(0x122)](_0x54428e(0xa6));else for(let _0x50fbee=0x0;_0x50fbee<kyckArr[_0x1b73b3('0x6d','lFGr')];_0x50fbee++){kyck=kyckArr[_0x50fbee],$['index']=_0x50fbee+0x1,console[_0x1b73b3(0x88,'OLBu')](_0x1b73b3(0xf3,'w6n!')+$[_0x1b73b3('0x11b','CiiM')]+'】'),await kytkhq(),await getUserMusicalNoteBalanceAndSign(),await SendCoin(),await kyye();}destroyVM(global['vm']);}})()[_0x17d077(0xf8,'4Ztc')](_0xfc0e=>$[_0x17d077('0xd8',')^TQ')](_0xfc0e))[_0x41b371(0xb2)](()=>$[_0x41b371('0x135')]());function kytkhq(_0x47b44a=0x0){return new Promise(_0x20ba45=>{const _0xdfd2bb=_0x4f1d,_0x1260a6=_0x516b;let _0x462f11=randomString(0x10),_0x1c0c9e=Date[_0x1260a6('0x87')](),_0x1c19bb={'url':_0x1260a6('0x120'),'headers':{'cookie':_0x1260a6('0xd0'),'Connection':_0xdfd2bb(0xf0,'OtO['),'platform':'Android','client-v':'5.03.03','device-id':_0x462f11,'access-token':'','Host':_0x1260a6('0x90'),'user-agent':_0xdfd2bb('0x11f','FgvI'),'content-type':_0xdfd2bb(0xbf,'2Z[V')},'body':kyck};$['post'](_0x1c19bb,async(_0x531eb7,_0x2d30d3,_0x5c20b1)=>{const _0x4ba368=_0x1260a6,_0x2afe93=_0xdfd2bb;try{const _0x3d049e=JSON['parse'](_0x5c20b1);_0x3d049e['code']==0x0?(console[_0x2afe93('0xe8','63VO')]('\x0a快音看获取token成功'),kytoken=_0x3d049e[_0x4ba368(0x133)][_0x4ba368('0x93')],refresh_token=_0x3d049e[_0x2afe93('0xcf','d$rz')][_0x4ba368('0x8a')],app_tk=_0x2d30d3[_0x2afe93(0xc1,'2H[D')][_0x4ba368(0x76)][_0x2afe93(0xfb,'63xr')](''),app_tk=app_tk[_0x4ba368('0xed')](/app_tk=(.+?);/)[0x1]):console[_0x2afe93(0x9d,'OtO[')](_0x4ba368(0x115)+_0x3d049e[_0x2afe93(0xea,'MEPu')]);}catch(_0x29dbb7){}finally{_0x20ba45();}},_0x47b44a);});}function getUserMusicalNoteBalanceAndSign(_0x31e2d7=0x0){return new Promise(_0x55178e=>{const _0x5e85d1=_0x516b,_0x256364=_0x4f1d;let _0x400059=randomString(0x10),_0x4a71dd=Date[_0x256364(0x96,'(nE*')](),_0x2d0266={'url':_0x5e85d1(0x125),'headers':{'Connection':_0x256364(0xc8,'m%Qd'),'client-v':_0x5e85d1('0xd6'),'platform-v':'12','app-v':_0x5e85d1(0x95),'Accept-Language':_0x5e85d1('0x73'),'User-Agent':'kuaiyin','Content-Type':_0x256364(0x129,'AB&F'),'device-id':_0x400059,'platform':'iOS','Accept':_0x256364('0x91','2H[D'),'access-ios-token':kytoken,'Host':_0x256364(0xba,'KJnB')},'body':'s=apple%7C5E40DDB730E4AFB8EF1D9C8844987E8355031ABA68D2D9F0EC13BEA733A02FE2&t='+_0x4a71dd};$[_0x5e85d1(0x10f)](_0x2d0266,async(_0x423cb4,_0x578d81,_0x1d059f)=>{const _0x57b5f3=_0x256364,_0x30d37c=_0x5e85d1;try{let _0x59ec5f=JSON['parse'](_0x1d059f);_0x59ec5f[_0x30d37c('0x8c')]==0x0?console[_0x30d37c('0x122')]('签到成功，连续签到：'+_0x59ec5f[_0x30d37c('0x133')]['continuous_sign_in_days']+'天'):console[_0x30d37c('0x122')](_0x57b5f3('0x12d','0)BD')+_0x59ec5f[_0x30d37c(0xe1)]);}catch(_0x40d858){}finally{_0x55178e();}},_0x31e2d7);});}async function SendCoin(_0x25a5f6=0x0){const _0x386e6a=_0x41b371,_0x346a7d=_0x17d077;let _0x2ffebc=await populateUrlObject(_0x346a7d(0x10d,'!Qhb'),_0x386e6a(0x10a));return new Promise(_0x6dad05=>{const _0x4ce2ba=_0x346a7d;$[_0x4ce2ba(0x72,'pGdG')](_0x2ffebc,async(_0x4681b4,_0x11f733,_0x354e82)=>{const _0x929af8=_0x516b;try{let _0x396c6b=JSON[_0x929af8('0x66')](_0x354e82);_0x396c6b[_0x929af8('0x8c')]==0x0?(await $['wait'](0x3e8),await view_video(),await $['wait'](0x3e8),await view_video1(),await $['wait'](0x3e8),await view_video2()):console[_0x929af8('0x122')](_0x929af8(0x97)+_0x396c6b['message']);}catch(_0x10d969){}finally{_0x6dad05();}},_0x25a5f6);});}async function view_video(_0x262930=0x0){const _0x314555=_0x17d077;let _0x40689d=await populateUrlObject('https://api.kaixinyf.cn/task/view_video',_0x314555('0x7b','d$rz'));return new Promise(_0x4e12dc=>{const _0x15cd3e=_0x314555;$[_0x15cd3e(0x12f,'d$rz')](_0x40689d,async(_0x3ba745,_0x17e416,_0x4f50af)=>{const _0x33260e=_0x516b,_0x4491c5=_0x15cd3e;try{let _0x2b63bc=JSON[_0x4491c5(0xfc,'!Qhb')](_0x4f50af);_0x2b63bc[_0x4491c5(0xd7,'4Ztc')]==0x0?console['log']('看广告获得100金币',_0x2b63bc[_0x4491c5(0x11a,'W6Qu')],_0x4491c5('0x118','FgvI')):console[_0x4491c5(0x11e,'U*MC')](_0x33260e(0x97)+_0x2b63bc['message']);}catch(_0x1c1363){}finally{_0x4e12dc();}},_0x262930);});}function view_video2(_0x244ec9=0x0){return new Promise(_0xb611e8=>{const _0x2c9457=_0x4f1d,_0x2f9af0=_0x516b;let _0x545afa=randomString(0x10),_0x1d8bd1=Date['now'](),_0xf76781={'url':_0x2f9af0(0xb9),'headers':{'Connection':_0x2f9af0(0xaa),'client-v':_0x2f9af0(0xd6),'platform-v':'12','app-v':_0x2c9457(0xf2,'86I5'),'Accept-Language':'zh-Hans-CN;q=1','User-Agent':_0x2f9af0('0xf6'),'Content-Type':_0x2f9af0(0x11c),'device-id':_0x545afa,'platform':_0x2f9af0('0xa7'),'Accept':_0x2f9af0('0x12e'),'access-ios-token':kytoken,'Host':_0x2c9457('0x94','w6n!')},'body':_0x2c9457('0x77','(nE*')+kytoken+_0x2c9457('0xa0','pGdG')};$['post'](_0xf76781,async(_0x419f1b,_0x280a85,_0x2ffaa9)=>{const _0x1e4d8c=_0x2f9af0,_0x2fa26d=_0x2c9457;try{let _0x1061aa=JSON['parse'](_0x2ffaa9);_0x1061aa[_0x2fa26d('0x130','W6Qu')]==0x0?console[_0x1e4d8c('0x122')](_0x1e4d8c(0x8d)+_0x1061aa['data'][_0x2fa26d('0xf4','@LHf')]+'金币'):console[_0x2fa26d(0x131,'yefV')](_0x2fa26d(0xa3,'N13a')+_0x1061aa['message']);}catch(_0x5aa845){}finally{_0xb611e8();}},_0x244ec9);});}function kytx(_0x34747b=0x0){return new Promise(_0x36f5e7=>{const _0x48fcda=_0x4f1d,_0x1ff5fa=_0x516b;let _0x56c051=randomString(0x10),_0x1821b6=Date[_0x1ff5fa('0x87')](),_0x5b3f4e={'url':_0x48fcda(0x12a,'!Qhb'),'headers':{'Connection':_0x1ff5fa(0xaa),'client-v':_0x48fcda('0x100','3&)x'),'platform-v':'12','app-v':_0x48fcda(0xec,'W6Qu'),'Accept-Language':'zh-Hans-CN;q=1','User-Agent':_0x1ff5fa('0xf6'),'Content-Type':_0x48fcda(0x80,'FR)C'),'device-id':_0x56c051,'platform':_0x1ff5fa(0xa7),'Accept':_0x1ff5fa('0x12e'),'access-ios-token':kytoken,'Host':'h5.kuaiyin123.net'},'body':'access_token='+kytoken+_0x48fcda('0xf9','4Ztc')};$[_0x48fcda(0x8e,'86I5')](_0x5b3f4e,async(_0x45b8ac,_0x1c4052,_0x19d61d)=>{const _0x2754d3=_0x48fcda,_0x55b022=_0x1ff5fa;try{let _0x45907=JSON['parse'](_0x19d61d);_0x45907[_0x55b022('0x8c')]==0x0?console[_0x55b022('0x122')]('快音提现三元：成功'):console[_0x2754d3('0x11e','U*MC')](_0x55b022('0xa4')+_0x45907[_0x55b022(0xe1)]);}catch(_0x3b764e){}finally{_0x36f5e7();}},_0x34747b);});}function kyye(_0xa70d1d=0x0){return new Promise(_0x52a347=>{const _0x4be819=_0x516b,_0x2e67ec=_0x4f1d;let _0x4df8af=randomString(0x10),_0x436344=Date[_0x2e67ec('0x102','0)BD')](),_0x454054={'url':_0x2e67ec('0xeb','AB&F'),'headers':{'Connection':'keep-alive','client-v':_0x4be819('0xd6'),'platform-v':'12','app-v':_0x2e67ec(0x111,'lFGr'),'Accept-Language':_0x4be819(0x73),'User-Agent':_0x2e67ec(0xee,'86I5'),'Content-Type':_0x4be819(0x11c),'device-id':_0x4df8af,'platform':'iOS','Accept':'*/*','access-ios-token':kytoken,'Host':_0x2e67ec('0xd3','OtO[')},'body':_0x4be819(0xc3)+kytoken+_0x2e67ec('0x92','MEPu')};$[_0x2e67ec(0x69,']CLr')](_0x454054,async(_0x5cdf49,_0xb2e84d,_0x455bf9)=>{const _0x42e08d=_0x2e67ec,_0x1e496e=_0x4be819;try{let _0x5a6db7=JSON[_0x1e496e('0x66')](_0x455bf9);_0x5a6db7[_0x42e08d('0x75','OLBu')]==0x0?(console[_0x1e496e(0x122)](_0x42e08d('0xca','63xr')+_0x5a6db7[_0x42e08d(0x82,'OtO[')][_0x42e08d('0x121','63xr')]['wx_nickname']+_0x42e08d('0x117','63xr')+_0x5a6db7[_0x42e08d('0x70',']KbR')]['user_info']['coin_amount']+_0x42e08d(0xa8,'MyzP')+_0x5a6db7['data'][_0x1e496e('0x116')][_0x1e496e('0x83')]),_0x5a6db7[_0x1e496e(0x133)][_0x42e08d('0x8b','3&)x')][_0x1e496e('0x83')]>=0x3&&await kytx()):console[_0x1e496e('0x122')](_0x42e08d('0xb4','2Z[V')+_0x5a6db7['message']);}catch(_0x4634fd){}finally{_0x52a347();}},_0xa70d1d);});}async function view_video1(_0x543d51=0x0){const _0x27795a=_0x41b371;let _0x59108e=await populateUrlObject(_0x27795a(0xbe),_0x27795a('0xe7'));return new Promise(_0x3c6bf3=>{$['post'](_0x59108e,async(_0x2e6926,_0x5bd5b4,_0x4b04e1)=>{const _0x3bd17a=_0x4f1d,_0x21dd95=_0x516b;try{let _0x39e882=JSON[_0x21dd95('0x66')](_0x4b04e1);_0x39e882[_0x3bd17a(0xe4,'lGO]')]==0x0?console[_0x21dd95(0x122)]('看视频获得100金币',_0x39e882[_0x3bd17a(0xcd,'2H[D')],'\x20可能不加金币'):console[_0x3bd17a('0xc2','2NHT')]('失败：'+_0x39e882[_0x21dd95('0xe1')]);}catch(_0x4c2ecd){}finally{_0x3c6bf3();}},_0x543d51);});}function populateUrlObject(_0x5c7023,_0x3047da=''){const _0x51bab7=_0x41b371,_0x2a22f0=_0x17d077;let _0x41b261=randomString(0x10),_0xf5b940={'url':_0x5c7023,'headers':{'Cookie':_0x2a22f0(0xff,'3&)x')+app_tk+_0x2a22f0(0xd5,'yefV')+kytoken+';\x20refresh_token='+refresh_token,'User-Agent':'kuaiyin','Platform-V':'12','Platform':_0x2a22f0('0xfd','e#Fj'),'Accept':_0x51bab7(0x12e),'Accept-Language':'zh-Hans-CN;q=1','Client-V':'4.28.02','app-v':_0x51bab7(0x95),'Content-Type':_0x51bab7('0x11c'),'Connection':_0x51bab7(0xaa),'Device-Id':_0x41b261,'Access-Ios-Token':kytoken,'Host':_0x2a22f0(0x99,'a1T$')}};if(_0x3047da)_0xf5b940[_0x2a22f0(0xfa,']KbR')]=_0x3047da;return _0xf5b940;}function randomString(_0x57e3c1=0xc){const _0x4c30e7=_0x41b371,_0x336213=_0x17d077;let _0x198cf9=_0x336213('0x6a','4Ztc'),_0x27bbdb=_0x198cf9[_0x4c30e7(0xbd)],_0x58c6b0='';for(i=0x0;i<_0x57e3c1;i++){_0x58c6b0+=_0x198cf9[_0x4c30e7(0xad)](Math[_0x4c30e7(0xac)](Math['random']()*_0x27bbdb));}return _0x58c6b0;}
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
